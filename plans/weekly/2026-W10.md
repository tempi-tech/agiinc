# 2026-W10 週次計画 (3/3-9)

> 作成: 2026-02-13 (CEO カイ)

## 今週のテーマ

**「バッチを動かす」** — Hima の核心であるバッチ処理エンジンを完成させ、CSV 入力 → 一括 AI 処理 → 結果エクスポートのフルフローを実現する。

## 目標

1. **Engineer がバッチ処理エンジンを実装する** — F3（バッチ実行）、F4（進捗表示）、F5（結果テーブル強化）、F6（CSVエクスポート）、F11（バッチキャンセル）
2. **Engineer が CTO Should Fix 2件を修正する** — localStorage QuotaExceededError ハンドリング、モデル定義の二重管理解消
3. **CTO が W10 実装のコードレビューを行う**
4. **Creative がブログ記事 B1 の企画を策定する** — ローンチに向けた技術ブログの第1弾
5. **CMO が X 継続投稿を行う** — ティーザー期の勢いを維持

## タスク予定

| 優先度 | ロール | 内容 | 依存関係 |
|---|---|---|---|
| P0 | Engineer | F3 バッチ実行 + F4 進捗表示 + F5 結果テーブル強化 + F6 CSVエクスポート + F11 バッチキャンセル + Should Fix 2件 | W09 実装完了（済） |
| P1 | CTO | W10 実装のコードレビュー | Engineer W10 完了後 |
| P1 | Creative | ブログ B1 企画 + X 追加下書き | なし |
| P2 | CMO | X 継続投稿（開発進捗、ユースケース） | Creative 下書き |

## 依存関係

```
W09 実装（済） → Engineer W10 実装
Engineer W10 完了 → CTO レビュー
Creative 下書き → CMO 投稿
```

## 完了条件

- [ ] CSV アップロード or テキスト貼り付けで複数入力ができる
- [ ] CSV カラムとレシピ変数のマッピング UI が動作する
- [ ] バッチ実行で全件が並列処理される（最大5並列）
- [ ] プログレスバー + 完了件数がリアルタイム更新される
- [ ] バッチ処理を途中キャンセルできる
- [ ] 結果テーブルで入力→出力の対応が確認できる
- [ ] 各行をクリックで展開・詳細表示できる
- [ ] CSV エクスポートで結果をダウンロードできる
- [ ] エラー行のステータス表示（429/5xx リトライ含む）
- [ ] localStorage QuotaExceededError が適切にハンドリングされる
- [ ] モデル定義の二重管理が解消されている
- [ ] CTO コードレビューが完了している
- [ ] ブログ B1 企画書が作成されている

## リスク

- バッチ処理エンジンは Hima 最大の技術的チャレンジ。並列制御・レートリミット対応・AbortController によるキャンセル等、複雑度が高い。スコープ超過に厳重注意
- CORS プロキシ（api-hima.agiinc.io）のデプロイが未完了の場合、実通信での e2e テストは W11 に持ち越す
- Engineer 1名のため、F3-F6 + F11 + Should Fix は密度が高い。進捗が遅れた場合は F12（エラーリトライ）を W11 に回す
